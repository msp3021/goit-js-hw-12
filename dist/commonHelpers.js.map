{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["let currentPage = 1;\nlet currentQuery = '';\nconst perPage = 40;\n\ndocument.getElementById('search-form').addEventListener('submit', function(e) {\n    e.preventDefault();\n    currentQuery = document.getElementById('search-input').value;\n    currentPage = 1;\n    searchImages(currentQuery, currentPage);\n});\n\ndocument.getElementById('load-more').addEventListener('click', function() {\n    currentPage++;\n    searchImages(currentQuery, currentPage);\n});\n\nasync function searchImages(query, page) {\n    const API_KEY = '44858240-c00958abcea8d05c4a140bab8'; \n    const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n    \n    showLoader();\n\n    try {\n        const response = await axios.get(URL);\n        const data = response.data;\n\n        if (page === 1) {\n            document.getElementById('gallery').innerHTML = '';\n        }\n\n        if (data.hits.length === 0) {\n            alert('No images found.');\n            hideLoader();\n            return;\n        }\n    \n        displayImages(data.hits);\n\n        if (data.totalHits > page * perPage) {\n            document.getElementById('load-more').style.display = 'block';\n        } else {\n            document.getElementById('load-more').style.display = 'none';\n            alert(\"We're sorry, but you've reached the end of search results.\");\n        }\n\n        smoothScroll();\n    } catch (error) {\n        console.error('Error fetching images:', error);\n    } finally {\n        hideLoader();\n    }\n}\n\nfunction displayImages(images) {\n    const gallery = document.getElementById('gallery');\n    \n    images.forEach(image => {\n        const card = document.createElement('div');\n        card.classList.add('card');\n        \n        const imgLink = document.createElement('a');\n        imgLink.href = image.largeImageURL;\n        imgLink.dataset.lightbox = 'gallery';\n        \n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n        \n        imgLink.appendChild(img);\n        \n        const info = document.createElement('div');\n        info.classList.add('info');\n        \n        const likes = document.createElement('p');\n        likes.textContent = `Likes ${image.likes}`;\n        \n        const views = document.createElement('p');\n        views.textContent = `Views ${image.views}`;\n        \n        const comments = document.createElement('p');\n        comments.textContent = `Comments ${image.comments}`;\n        \n        info.appendChild(likes);\n        info.appendChild(views);\n        info.appendChild(comments);\n        \n        card.appendChild(imgLink);\n        card.appendChild(info);\n        \n        gallery.appendChild(card);\n    });\n\n    new SimpleLightbox('.gallery a');\n}\n\nfunction showLoader() {\n    document.getElementById('loader-container').style.display = 'flex';\n}\n\nfunction hideLoader() {\n    document.getElementById('loader-container').style.display = 'none';\n}\n\nfunction smoothScroll() {\n    const { height: cardHeight } = document.querySelector('.card').getBoundingClientRect();\n    window.scrollBy({\n        top: cardHeight * 2,\n        behavior: 'smooth',\n    });\n}\n\n\n\n"],"names":["currentPage","currentQuery","perPage","e","searchImages","query","page","URL","showLoader","data","hideLoader","displayImages","smoothScroll","error","images","gallery","image","card","imgLink","img","info","likes","views","comments","cardHeight"],"mappings":"ssBAAA,IAAIA,EAAc,EACdC,EAAe,GACnB,MAAMC,EAAU,GAEhB,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAU,SAASC,EAAG,CAC1EA,EAAE,eAAc,EAChBF,EAAe,SAAS,eAAe,cAAc,EAAE,MACvDD,EAAc,EACdI,EAAaH,EAAcD,CAAW,CAC1C,CAAC,EAED,SAAS,eAAe,WAAW,EAAE,iBAAiB,QAAS,UAAW,CACtEA,IACAI,EAAaH,EAAcD,CAAW,CAC1C,CAAC,EAED,eAAeI,EAAaC,EAAOC,EAAM,CAErC,MAAMC,EAAM,qEAA6C,mBAAmBF,CAAK,CAAC,iEAAiEC,CAAI,aAAaJ,CAAO,GAE3KM,IAEA,GAAI,CAEA,MAAMC,GADW,MAAM,MAAM,IAAIF,CAAG,GACd,KAMtB,GAJID,IAAS,IACT,SAAS,eAAe,SAAS,EAAE,UAAY,IAG/CG,EAAK,KAAK,SAAW,EAAG,CACxB,MAAM,kBAAkB,EACxBC,IACA,MACH,CAEDC,EAAcF,EAAK,IAAI,EAEnBA,EAAK,UAAYH,EAAOJ,EACxB,SAAS,eAAe,WAAW,EAAE,MAAM,QAAU,SAErD,SAAS,eAAe,WAAW,EAAE,MAAM,QAAU,OACrD,MAAM,4DAA4D,GAGtEU,GACH,OAAQC,EAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,CACrD,QAAc,CACNH,GACH,CACL,CAEA,SAASC,EAAcG,EAAQ,CAC3B,MAAMC,EAAU,SAAS,eAAe,SAAS,EAEjDD,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAU,SAAS,cAAc,GAAG,EAC1CA,EAAQ,KAAOF,EAAM,cACrBE,EAAQ,QAAQ,SAAW,UAE3B,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhBE,EAAQ,YAAYC,CAAG,EAEvB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,SAASL,EAAM,KAAK,GAExC,MAAMM,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,SAASN,EAAM,KAAK,GAExC,MAAMO,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,YAAc,YAAYP,EAAM,QAAQ,GAEjDI,EAAK,YAAYC,CAAK,EACtBD,EAAK,YAAYE,CAAK,EACtBF,EAAK,YAAYG,CAAQ,EAEzBN,EAAK,YAAYC,CAAO,EACxBD,EAAK,YAAYG,CAAI,EAErBL,EAAQ,YAAYE,CAAI,CAChC,CAAK,EAED,IAAI,eAAe,YAAY,CACnC,CAEA,SAAST,GAAa,CAClB,SAAS,eAAe,kBAAkB,EAAE,MAAM,QAAU,MAChE,CAEA,SAASE,GAAa,CAClB,SAAS,eAAe,kBAAkB,EAAE,MAAM,QAAU,MAChE,CAEA,SAASE,GAAe,CACpB,KAAM,CAAE,OAAQY,GAAe,SAAS,cAAc,OAAO,EAAE,wBAC/D,OAAO,SAAS,CACZ,IAAKA,EAAa,EAClB,SAAU,QAClB,CAAK,CACL"}